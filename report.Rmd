---
title: "Report"
output: rmarkdown::html_vignette
date: "2023-11-24"
---

```{r setup, include=FALSE, }
library(frictionless)
library(checkmate)
library(printr)

testrmd::init()

sisor <- suppressMessages(read_package(here::here("datapackages/sisor/datapackage.json")))
base_qdd_plurianual <- read_resource(sisor, "base_qdd_plurianual")

sigplan <- suppressMessages(read_package(here::here("datapackages/sigplan/datapackage.json")))
acoes_planejamento <- read_resource(sigplan, "acoes_planejamento")
programas_planejamento <- read_resource(sigplan, "programas_planejamento")
localizadores_todos_planejamento <- read_resource(sigplan, "localizadores_todos_planejamento")
```


```{r, printr.help.sections="description", echo=FALSE}
?check_area_tematica_exists
```

#### Programas

```{r, echo=FALSE, test=TRUE}
check <- check_area_tematica_exists_programas(programas_planejamento, output = TRUE)
check$info
stopifnot(check$valid)
```

#### Ações

```{r, echo=FALSE, test=TRUE}
check <- check_area_tematica_exists_acoes(acoes_planejamento, output = TRUE)
check$info
stopifnot(check$valid)
```

#### Localizadores

```{r, echo=FALSE, test=TRUE, message=FALSE}
check <- check_area_tematica_exists_localizadores(localizadores_todos_planejamento, output = TRUE)
check$info
stopifnot(check$valid)
```
