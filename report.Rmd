---
title: "Checklist para conferência das bases SIGPLAN/SISOR"
output:
  distill::distill_article:
    toc: true
    toc_depth: 3
date: "2023-11-24"
---

```{r setup, include=FALSE, }
library(checkmate)

testrmd::init()

sigplan <- read_datapackage("datapackages/sigplan/datapackage.json")
sisor <- read_datapackage("datapackages/sisor/datapackage.json")
```

## [Área temática por programa](file:///Users/fjunior/Projects/splor/checks-loa-ppag/docs/reference/check_area_tematica_exists.html)

### Programas

```{r, echo=FALSE, test=TRUE}
check <- check_area_tematica_exists_programas(sigplan$programas_planejamento, output = TRUE)
knitr::kable(check$info)
stopifnot(check$valid)
```

### Ações

```{r, echo=FALSE, test=TRUE}
check <- check_area_tematica_exists_acoes(sigplan$acoes_planejamento, output = TRUE)
knitr::kable(check$info)
stopifnot(check$valid)
```

### Localizadores

```{r, echo=FALSE, test=TRUE, message=FALSE}
check <- check_area_tematica_exists_localizadores(sigplan$localizadores_todos_planejamento, output = TRUE)
knitr::kable(check$info)
stopifnot(check$valid)
```

## Consistência SIGPLAN

### check_consistencia_sigplan_localizadores

```{r, echo=FALSE, test=TRUE, message=FALSE}
check <- check_consistencia_sigplan_localizadores(sigplan$acoes_planejamento, sigplan$localizadores_todos_planejamento, output = TRUE)
knitr::kable(check$info)
stopifnot(check$valid)
```

### check_consistencia_sigplan_programas

```{r, echo=FALSE, test=TRUE, message=FALSE}
check <- check_consistencia_sigplan_programas(sigplan$acoes_planejamento, sigplan$programas_planejamento, output = TRUE)
knitr::kable(check$info)
stopifnot(check$valid)
```

## [Consistência SISOR](file:///Users/fjunior/Projects/splor/checks-loa-ppag/docs/reference/check_consistencia_sisor.html)

### QDD Fiscal

```{r, echo=FALSE, test=TRUE}
check <- check_consistencia_sisor(sisor$base_qdd_fiscal, sisor$base_orcam_despesa_item_fiscal, output = TRUE)
knitr::kable(check$info)
stopifnot(check$valid)
```
