---
title: "Checklist para conferÃªncia das bases SIGPLAN/SISOR"
output: 
  html_document:
    df_print: paged
    toc_depth: 3
    toc: true
    toc_float: true
    collapsed: false
date: "`r format(Sys.time())`"
---

```{r setup, include=FALSE}
library(checkmate)

old_hook <- knitr::knit_hooks$get("document")
knitr::knit_hooks$set(document = checkmate::document_hook,
                      check = checkmate::check_hook)

CHECK_COUNT <- list(pass = 0, fail = 0)

sigplan <- read_datapackage("datapackages/sigplan/datapackage.json")
sisor <- read_datapackage("datapackages/sisor/datapackage.json")
```


## check_area_tematica_exists

### check_area_tematica_exists_programas

```{r, check=TRUE, echo=FALSE}
check <- check_area_tematica_exists_programas(sigplan$programas_planejamento, output = TRUE)
check$info
```

## check_consistencia_sigplan

### check_consistencia_sigplan_localizadores

```{r, check=TRUE, echo=FALSE}
check <- check_consistencia_sigplan_localizadores(sigplan$acoes_planejamento, sigplan$localizadores_todos_planejamento, output = TRUE)
check$info
```

```{r, check=TRUE, echo=FALSE}
check <- check_consistencia_sigplan_programas(sigplan$acoes_planejamento, sigplan$programas_planejamento, output = TRUE)
check$info
```

## check_consistencia_sisor

```{r, check=TRUE, echo=FALSE}
check <- check_consistencia_sisor(sisor$base_qdd_fiscal, sisor$base_orcam_despesa_item_fiscal, output = TRUE)
check$info
```
